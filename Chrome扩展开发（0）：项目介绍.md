# Chrome 拓展开发与实践（0）：云助理核赔扩展

>作者：雷宇（leiyu@star-net.cn）

## 项目背景

中国人寿每一份保单都是需要人工核赔，传统的核赔模式主要以人工核对影像信息与保单信息是否一致为准，中国人寿福建省分公司提出了智能核赔辅助人工核赔的需求以帮助他们提高核赔效率与准确率。最终我们以 Chrome 扩展结合 OCR 影像识别的方式来满足这个需求。

-----------------------
## 项目需求

人工核赔的时候需要核赔人员从无序的影像资料中找出对应的影像进行核对，如需核对出险人身份信息时需要找到身份证影像，云助理核赔扩展可以将影像进行分类便于查看。核赔人员对比影像信息与原始保单信息，在这一步云助理核赔扩展使用 OCR 影像识别技术来提供识别信息加强了对比效果，核赔人员可以甄选完成所有正确信息执行一键回填，省去了输入时间，大大提高核赔人员核赔效率。

除了核赔保单之外，用户还提出了医疗清单信息的自动回填。一般保单医疗清单其中包含可能有大几十条甚至上百条的医疗项目。人工录入更是费时费力，有了云助理核赔扩展可以识别医疗清单生成医疗清单的 CSV 文件然后导入云助理核赔扩展并解析后自动填充也是大大提高了清单信息写入的速度。

应用户要求，他们需要查看各个阶段的识别率。我们也提供了在回填阶段生成识别率CSV文件的功能。

最后结合用户提出的需求和Chrome扩展的能力，最终形成需求文档，其中主要包括了以下几个功能：

> 1.获取保单影像资料并进行分类
> 2.支持分类识别影像并整合识别信息
> 3.对比以及展示原有保单信息与影像识别信息
> 4.支持选择或修改信息进行回填功能
> 5.支持导入CSV文件自动回填信息
> 6.支持生成查看识别率的CSV文件功能

-------------------------
## 技术选型

我们了解到所有的需求都是基于中国人寿原有的核赔系统上进行的，我们并没有能力修改这个核赔系统。
或者使用 puppeteer 这类无头浏览器也是行不通，这个方案首先很依赖识别的准确率，整个过程全自动的情况下，用户都没有修改操作的机会。而且核赔系统的登录需要中国人寿特定的“国寿密令”，自动化这条路就没有希望了。

Chrome 扩展是最适用这个项目的技术，首先Chrome 扩展基于整个 Chrome 浏览器，可以通过 Chrome 浏览器对核赔系统进行操作。虽然 Chrome 扩展虽然不能像 puppeteer 这类无头浏览器实现自动化工作，但是考虑到人寿核赔系统的实际情况，Chrome 扩展这样的半自动操作是最符合实际情况的，基于 Chrome 浏览器提供强大且齐全的 API 也是可以很好的完成需求。

## [云助理核赔扩展展示](https://github.com/lemonly14/docs/blob/main/%E4%BA%BA%E5%AF%BFocr%E8%AF%86%E5%88%AB%E6%8F%92%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%B5%81%E7%A8%8B/%E4%BA%BA%E5%AF%BFocr%E6%8F%92%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%B5%81%E7%A8%8B.pdf)(科学上网查看文档效果更佳)
